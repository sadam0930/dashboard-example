{"filter":false,"title":"plugin-input.js","tooltip":"/mclient/js/plugin-input.js","undoManager":{"mark":0,"position":0,"stack":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":3}},"text":"/**"},{"action":"insertText","range":{"start":{"row":0,"column":3},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":219,"column":0}},"lines":[" * Sometimes for quick navigation, it can be useful to allow an end user to"," * enter which page they wish to jump to manually. This paging control uses a"," * text input box to accept new paging numbers (arrow keys are also allowed"," * for), and four standard navigation buttons are also presented to the end"," * user."," *"," *  @name Navigation with text input"," *  @summary Shows an input element into which the user can type a page number"," *  @author [Allan Jardine](http://sprymedia.co.uk)"," *"," *  @example"," *    $(document).ready(function() {"," *        $('#example').dataTable( {"," *            \"sPaginationType\": \"input\""," *        } );"," *    } );"," */","","$.fn.dataTableExt.oPagination.input = {","\t\"fnInit\": function ( oSettings, nPaging, fnCallbackDraw )","\t{","\t\tvar nFirst = document.createElement( 'span' );","\t\tvar nPrevious = document.createElement( 'span' );","\t\tvar nNext = document.createElement( 'span' );","\t\tvar nLast = document.createElement( 'span' );","\t\tvar nInput = document.createElement( 'input' );","\t\tvar nPage = document.createElement( 'span' );","\t\tvar nOf = document.createElement( 'span' );","","\t\tnFirst.innerHTML = oSettings.oLanguage.oPaginate.sFirst;","\t\tnPrevious.innerHTML = oSettings.oLanguage.oPaginate.sPrevious;","\t\tnNext.innerHTML = oSettings.oLanguage.oPaginate.sNext;","\t\tnLast.innerHTML = oSettings.oLanguage.oPaginate.sLast;","","\t\tnFirst.className = \"paginate_button first disabled\";","\t\tnPrevious.className = \"paginate_button previous disabled\";","\t\tnNext.className=\"paginate_button next\";","\t\tnLast.className = \"paginate_button last\";","\t\tnOf.className = \"paginate_of\";","\t\tnPage.className = \"paginate_page\";","\t\tnInput.className = \"paginate_input\";","","\t\tif ( oSettings.sTableId !== '' )","\t\t{","\t\t\tnPaging.setAttribute( 'id', oSettings.sTableId+'_paginate' );","\t\t\tnPrevious.setAttribute( 'id', oSettings.sTableId+'_previous' );","\t\t\tnPrevious.setAttribute( 'id', oSettings.sTableId+'_previous' );","\t\t\tnNext.setAttribute( 'id', oSettings.sTableId+'_next' );","\t\t\tnLast.setAttribute( 'id', oSettings.sTableId+'_last' );","\t\t}","","\t\tnInput.type = \"text\";","\t\tnPage.innerHTML = \"Page \";","","\t\tnPaging.appendChild( nFirst );","\t\tnPaging.appendChild( nPrevious );","\t\tnPaging.appendChild( nPage );","\t\tnPaging.appendChild( nInput );","\t\tnPaging.appendChild( nOf );","\t\tnPaging.appendChild( nNext );","\t\tnPaging.appendChild( nLast );","","\t\t$(nFirst).click( function () ","\t\t{","\t\t\tvar iCurrentPage = Math.ceil(oSettings._iDisplayStart / oSettings._iDisplayLength) + 1;","\t\t    \tif (iCurrentPage != 1)","\t\t    \t{","\t\t\t\toSettings.oApi._fnPageChange( oSettings, \"first\" );","\t\t\t\tfnCallbackDraw( oSettings );","\t\t\t\t$(nFirst).addClass('disabled');","\t\t\t\t$(nPrevious).addClass('disabled');","\t\t\t\t$(nNext).removeClass('disabled');","\t\t\t\t$(nLast).removeClass('disabled');","\t\t    \t}","\t\t} );","","\t\t$(nPrevious).click( function() ","\t\t{","\t\t\tvar iCurrentPage = Math.ceil(oSettings._iDisplayStart / oSettings._iDisplayLength) + 1;","\t\t    \tif (iCurrentPage != 1)","\t\t    \t{","\t\t\t\toSettings.oApi._fnPageChange(oSettings, \"previous\");","\t\t\t        fnCallbackDraw(oSettings);","\t\t\t        if (iCurrentPage == 2)","\t\t\t        {","\t\t\t            $(nFirst).addClass('disabled');","\t\t\t            $(nPrevious).addClass('disabled');","\t\t\t        }","\t\t\t        $(nNext).removeClass('disabled');","\t\t\t        $(nLast).removeClass('disabled');","\t\t\t}","\t\t} );","","\t\t$(nNext).click( function() ","\t\t{","\t\t\tvar iCurrentPage = Math.ceil(oSettings._iDisplayStart / oSettings._iDisplayLength) + 1;","\t\t\tif (iCurrentPage != (Math.ceil((oSettings.fnRecordsDisplay() - 1) / oSettings._iDisplayLength)))","\t\t\t{","\t\t\t    oSettings.oApi._fnPageChange(oSettings, \"next\");","\t\t\t    fnCallbackDraw(oSettings);","\t\t\t    if (iCurrentPage == (Math.ceil((oSettings.fnRecordsDisplay() - 1) / oSettings._iDisplayLength) - 1))","\t\t\t    {","\t\t\t        $(nNext).addClass('disabled');","\t\t\t        $(nLast).addClass('disabled');","\t\t\t    }","\t\t\t    $(nFirst).removeClass('disabled');","\t\t\t    $(nPrevious).removeClass('disabled');","\t\t\t}","\t\t} );","","\t\t$(nLast).click( function() ","\t\t{","\t\t\tvar iCurrentPage = Math.ceil(oSettings._iDisplayStart / oSettings._iDisplayLength) + 1;","\t\t    \tif (iCurrentPage != (Math.ceil((oSettings.fnRecordsDisplay() - 1) / oSettings._iDisplayLength)))","\t\t    \t{","\t\t\t        oSettings.oApi._fnPageChange(oSettings, \"last\");","\t\t\t        fnCallbackDraw(oSettings);","\t\t\t        $(nFirst).removeClass('disabled');","\t\t\t        $(nPrevious).removeClass('disabled');","\t\t\t        $(nNext).addClass('disabled');","\t\t\t        $(nLast).addClass('disabled');","\t\t    \t}","\t\t} );","","\t\t$(nInput).keyup( function (e) {","\t\t\t// 38 = up arrow, 39 = right arrow","\t\t\tif ( e.which == 38 || e.which == 39 )","\t\t\t{","\t\t\t\tthis.value++;","\t\t\t}","\t\t\t// 37 = left arrow, 40 = down arrow","\t\t\telse if ( (e.which == 37 || e.which == 40) && this.value > 1 )","\t\t\t{","\t\t\t\tthis.value--;","\t\t\t}","","\t\t\tif ( this.value === \"\" || this.value.match(/[^0-9]/) )","\t\t\t{","\t\t\t\t/* Nothing entered or non-numeric character */","\t\t\t\tthis.value = this.value.replace(/[^\\d]/g, ''); // don't even allow anything but digits","\t\t\t\treturn;","\t\t\t}","","\t\t\tvar iNewStart = oSettings._iDisplayLength * (this.value - 1);","\t\t        if (iNewStart < 0)","\t\t        {","\t\t            iNewStart = 0;","\t\t        }","\t\t        if (iNewStart > oSettings.fnRecordsDisplay())","\t\t        {","\t\t            iNewStart = (Math.ceil((oSettings.fnRecordsDisplay() - 1) / oSettings._iDisplayLength) - 1) * oSettings._iDisplayLength;","\t\t        }","","\t\t        if (iNewStart == 0)","\t\t        {","\t\t            $(nFirst).addClass('disabled');","\t\t            $(nPrevious).addClass('disabled');","\t\t            $(nNext).removeClass('disabled');","\t\t            $(nLast).removeClass('disabled');","\t\t        }","\t\t        else if (iNewStart == ((Math.ceil((oSettings.fnRecordsDisplay() - 1) / oSettings._iDisplayLength) - 1) * oSettings._iDisplayLength))","\t\t        {","\t\t            $(nNext).addClass('disabled');","\t\t            $(nLast).addClass('disabled');","\t\t            $(nFirst).removeClass('disabled');","\t\t            $(nPrevious).removeClass('disabled');","\t\t        }","\t\t        else","\t\t        {","\t\t            $(nFirst).removeClass('disabled');","\t\t            $(nPrevious).removeClass('disabled');","\t\t            $(nNext).removeClass('disabled');","\t\t            $(nLast).removeClass('disabled');","\t\t        }","","\t\t\toSettings._iDisplayStart = iNewStart;","\t\t\tfnCallbackDraw( oSettings );","\t\t} );","","\t\t/* Take the brutal approach to cancelling text selection */","\t\t$('span', nPaging).bind( 'mousedown', function () { return false; } );","\t\t$('span', nPaging).bind( 'selectstart', function () { return false; } );","\t\t","\t\t// If we can't page anyway, might as well not show it","\t\tvar iPages = Math.ceil((oSettings.fnRecordsDisplay()) / oSettings._iDisplayLength);","\t\tif(iPages <= 1)","\t\t{","\t\t    $(nPaging).hide();","\t\t}","\t},","","","\t\"fnUpdate\": function ( oSettings, fnCallbackDraw )","\t{","\t\tif ( !oSettings.aanFeatures.p )","\t\t{","\t\t\treturn;","\t\t}","\t\tvar iPages = Math.ceil((oSettings.fnRecordsDisplay()) / oSettings._iDisplayLength);","\t\tvar iCurrentPage = Math.ceil(oSettings._iDisplayStart / oSettings._iDisplayLength) + 1;","","\t\tvar an = oSettings.aanFeatures.p;","\t\tif (iPages <= 1) // hide paging when we can't page","\t\t{","\t\t    $(an).hide();","\t\t}","\t\telse","\t\t{","\t\t    /* Loop over each instance of the pager */","\t\t    for (var i = 0, iLen = an.length ; i < iLen ; i++)","\t\t    {","\t\t        var spans = an[i].getElementsByTagName('span');","\t\t        var inputs = an[i].getElementsByTagName('input');","\t\t        spans[3].innerHTML = \" of \" + iPages;","\t\t        inputs[0].value = iCurrentPage;","\t\t    }","\t\t}","\t}"]},{"action":"insertText","range":{"start":{"row":219,"column":0},"end":{"row":219,"column":2}},"text":"};"}]}]]},"ace":{"folds":[],"scrolltop":1946.00004196167,"scrollleft":0,"selection":{"start":{"row":219,"column":2},"end":{"row":219,"column":2},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":151,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1415919523297,"hash":"88e500f170fb6a9d040055e9c7510538ea20146f"}